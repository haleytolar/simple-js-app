let pokemonRepository=function(){let e=[];function t(){return e}function n(e){let t=document.querySelector(".pokemon-list");const n=document.createElement("li"),o=document.createElement("button");o.innerText=e.name,n.classList.add("list-group-item"),o.setAttribute("data-toggle","modal"),o.setAttribute("data-target","#exampleModal"),o.classList.add("btn","btn-outline-info"),n.append(o),t.append(n),o.addEventListener("click",(()=>{!function(e){c(e).then((function(){!function(e){const t=$(".modal-body"),n=$(".modal-title");$(".modal-header"),n.empty(),t.empty();const o=document.createElement("h1");o.innerText=e.name;const c=document.createElement("p");c.innerText="Height: "+e.height+"m";const a=document.createElement("img");a.src=e.imageUrl,t.append(a),t.append(o),t.append(c)}(e)}))}(e)}))}function o(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then((function(e){return e.json()})).then((function(e){e.results.forEach((function(e){a({name:e.name,height:e.height,detailsUrl:e.url,imageUrl:e.myImage})}))})).catch((function(e){console.error(e)}))}function c(e){const t=e.detailsUrl;return fetch(t).then((function(e){return e.json()})).then((function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types})).catch((function(e){console.error(e)}))}function a(t){return e.push(t)}return $("#exampleModal").on("hidden.bs.modal",(function(e){$(".modal-body").html(""),console.log("hello")})),o().then((function(){t().forEach((function(e){n(e)}))})),{getAll:t,add:a,addListItem:n,loadList:o,loadDetails:c}}();const handleSearch=e=>{e.preventDefault();const t=document.getElementById("search-input").value;document.querySelector(".pokemon-list").innerHTML=null;const n=[...pokemonRepository.getAll()];console.log("pokemons",n),n.forEach((e=>{e.name.toLowerCase().includes(t.trim().toLowerCase())&&pokemonRepository.addListItem(e)}))},searchBtn=document.getElementById("search-btn");searchBtn.addEventListener("click",handleSearch);